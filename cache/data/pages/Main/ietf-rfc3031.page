{{Standard
|uuid=7efbdabb-9c2a-481c-b8d4-d1c9e01b9d67
|publisher=IETF
|code=RFC 3031
|title=Multiprotocol Label Switching Architecture
|dateissued=2001
|substandards=
|description=
As a packet of a connectionless network layer protocol travels from one router to the next, each router makes an independent forwarding decision for that packet. That is, each router analyzes the packet's header, and each router runs a network layer routing algorithm. Each router independently chooses a next hop for the packet, based on its analysis of the packet's header and the results of running the routing algorithm.Packet headers contain considerably more information than is needed simply to choose the next hop. Choosing the next hop can therefore be thought of as the composition of two functions. The first function partitions the entire set of possible packets into a set of "Forwarding Equivalence Classes (FECs)". The second maps each FEC to a next hop. Insofar as the forwarding decision is concerned, different packets which get mapped into the same FEC are indistinguishable. All packets which belong to a particular FEC and which travel from a particular node will follow the same path (or if certain kinds of multi-path routing are in use, they will all follow one of a set of paths associated with the FEC).

In conventional IP forwarding, a particular router will typically consider two packets to be in the same FEC if there is some address prefix X in that router's routing tables such that X is the "longest match" for each packet's destination address. As the packet traverses the network, each hop in turn reexamines the packet and assigns it to a FEC.

In MPLS, the assignment of a particular packet to a particular FEC is done just once, as the packet enters the network. The FEC to which the packet is assigned is encoded as a short fixed length value known as a "label". When a packet is forwarded to its next hop, the label is sent along with it; that is, the packets are "labeled" before they are forwarded.


|responsible=NCIA-NSII
|website=http://www.ietf.org/rfc/rfc3031.txt
|events={{Change Event
|order=1
|date=2011-10-13
|flag=added
|rfcp=5-28
|version=6.0
}}
{{Change Event
|order=2
|date=2017-01-14
|flag=changed
|rfcp=9-19
|version=10.0
}}
}}
