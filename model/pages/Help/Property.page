__NOTOC__ __NOEDITSECTION__{{Developer Manual Navigator|chapter=Data Model}}

==Introduction==
The '''Properties''' represent attributes of the data entities and are building blocks for '''Concepts'''.

There are two steps required to use Property within the Concept definition:
* definition of the Property in a global registry of Properties (with the aim to re-use the same property across multiple Concepts and even Data Models)
* declaration of Property usage in a particular Concept

The model supports various '''Property Types'''. See [[Help:Property Types|Property Types]] for more details.


==Definition==
; Property Definition

First, the Property has to be defined in a global registry of Properties.

<pre>
<DataModel>
  ...

  <properties>
    <property name="{NAME}" type="{TYPE}" label="{LABEL}" attribute="{ATTRIBUTE}" default="{DEFAULT}">
      <description>{DESCRIPTION}</description>
    </property>
  </properties>
</DataModel>
</pre>

{| class="helptable"
|-
! {NAME}
| A short name of the Property. A name in the 'Concept Property' has to match a name of the 'Property Definition' element in the Global list of properties.
|-
! {TYPE}
| A type of the property. See the [[Help:Property Types|Property Types]] for more details.
|-
! {LABEL}
| A label to be used for the property on the pages. If not specified the value of 'name' attribute will be used.
|-
! {ATTRIBUTE}
| A name of the attribute on the Template pages.
|-
! {DEFAULT}
| If user doesn't provide any input in the edit field: a default value to be set as a property value and displayed on the screen.
|-
! {DESCRIPTION}
| A long description of the Property.
|}


;Declaration of Property usage in particular Concept
Secondly, the usage of the Property must be declared in the Concept definition ("structure" section).

<pre>
<DataModel>

  <concept name="{CONCEPT NAME}">
    <structure>
      <property name="{NAME}" label="{LABEL}" attribute="{ATTRIBUTE}"
        multiplicity="{MULTIPLICITY}" mandatory="{MANDATORY}" viewable="{VIEWABLE}" editable="{EDITABLE}"
        default="{DEFAULT}" inputValue="{INPUT VALUE}" propertyValue={PROPERTY VALUE} displayValue={DISPLAY VALUE}/>

      <property name="{NAME}"/>

      <property name="{NAME}" label="{LABEL}" attribute="{ATTRIBUTE}"/>
    </structure>
  </concept>

</DataModel>
</pre>


{| class="helptable"
|-
! {NAME}
| A short name of the Property. A name in the 'Concept Property' has to match a name of the 'Property Definition' element in the Global list of properties.
|-
! {LABEL}
| A value to overwrite default 'label' attribute defined in the related Property Definition.
|-
! {ATTRIBUTE}
| A value to overwrite default 'attribute' attribute defined in the related Property Definition.
|-
! {DESCRIPTION}
| A long description of the Property.
|-
! {INSTRUCTION}
| An additional information about the Property.
|-
! {MULTIPLICITY}
| A value specifying the multiplicity of values to be managed for this property. Values: <nowiki>[one | multiple]</nowiki>. Default value: "multiple" for "Page" type and "one" for other types.
|-
! {MANDATORY}
| A boolean flag indicating if the property is mandatory (forms would require user to enter a value). Values: <nowiki>[true | false]</nowiki>. Default value: "false".
|-
! {VIEWABLE}
| A boolean flag indicating if the property is to be displayed on the pages. Values: <nowiki>[true | false]</nowiki>. Default value: "true".
|-
! {EDITABLE}
| A boolean flag indicating if the property is to be editable in the forms. Values: <nowiki>[true | false]</nowiki>. Default value: "true".
|-
! {DEFAULT}
| If user doesn't provide any input in the edit field: a default value to be set as a property value and displayed on the screen.
| Equivalent to setting {INPUT VALUE} to "{{#if:{{{ATTRIBUTE|}}}|{{{ATTRIBUTE|}}}|default value}}"
|-
! {INPUT VALUE}
| See property input, semantic value and display processing section below.
|-
! {PROPERTY VALUE}
| See property input, semantic value and display processing section below.
|-
! {DISPLAY VALUE}
| See property input, semantic value and display processing section below.
|}


== Property input/semantic value/display processing==

Property definitions allows to define further processing (templating) of the following items:
* input provided by the user (through {INPUT VALUE} attribute),
* values set as a properties (through {PROPERTY VALUE} attribute),
* values displayed on the screen (through {DISPLAY VALUE} attribute)

All above attributes might define any static text or MediaWiki syntax which might add/transform property values in given concept to the new required format.

;Example
The table below provides examples of transformations defined for the String property called "Author".

 <property name="Author" multiplicity="{MULTIPLICITY}" {CUSTOMIZATIONS} attribute="author"/>

The examples below assume that user entered the following content in the 'author' edit field:
 "John; Mary; Paul; Steven;""

{| class="wikitable"
|-
! MULTIPLICITY
! CUSTOMIZATIONS
! Semantic value(s)
! Content on the screen

|-
|one
|
|"John; Mary; Paul; Steven;"
|John; Mary; Paul; Steven;

|-
|one
|inputValue="<nowiki>{{{author|}}}</nowiki> Alice; Agnes;"
|"John; Mary; Paul; Steven; Alice; Agnes;"
|John; Mary; Paul; Steven; Alice; Agnes;

|-
|one
|displayValue="<nowiki>{{{author|}}}</nowiki> Alice; Agnes;"
|"John; Mary; Paul; Steven;"
|John; Mary; Paul; Steven; Alice; Agnes;
|-
|one
|propertyValue="<nowiki>{{{author|}}}</nowiki> Alice; Agnes;"
|"John; Mary; Paul; Steven; Alice; Agnes;"
|John; Mary; Paul; Steven;
|-
|multiple
|inputValue="<nowiki>{{{author|}}}</nowiki> Alice; Agnes;"
|["John", "Mary", "Paul", "Steven", "Alice", "Agnes"]
|
* John
* Mary
* Paul
* Steven
* Alice
* Agnes
|-
|multiple
|displayValue="@@@ Doe"
|["John", "Mary", "Paul", "Steven"]
|
* John Doe
* Mary Doe
* Paul Doe
* Steven Doe
|-
|multiple
|propertyValue="@@@ Doe"
|["John Doe", "Mary Doe", "Paul Doe", "Steven Doe"]
|
* John
* Mary
* Paul
* Steven
|-
|multiple
|inputValue="<nowiki>{{{author|}}}</nowiki> Alice; Agnes;" displayValue="@@@ Doe"
|["John", "Mary", "Paul", "Steven", "Alice", "Agnes"]
|
* John Doe
* Mary Doe
* Paul Doe
* Steven Doe
* Alice Doe
* Agnes Doe
|-
|multiple
|inputValue="<nowiki>{{{author|}}}</nowiki> Alice; Agnes;" propertyValue="@@@ Doe"
|["John Doe", "Mary Doe", "Paul Doe", "Steven Doe", "Alice Doe", "Agnes Doe"]
|
* John
* Mary
* Paul
* Steven
* Alice
* Agnes
|}

Other examples of derived values for above properties:
* inputValue=<nowiki>"{{#show:{{{group|}}}|?Is part of|link=none}}"</nowiki>
* inputValue=<nowiki>"{{#ask:[[Category:Test Cases]][[Is produced by::{{PAGENAME}}]]}}"</nowiki>
* inputValue=<nowiki>"{{#show:{{{nation|}}}|?Country code}}"</nowiki>
* displayValue=<nowiki>"{{{firstname|}}} {{{lastname|}}} Analyst"</nowiki>


==Extensions==
{{Help:Property Types}}

Each ''Property Type'' might define its own additional specific attributes/elements. See pages above for more details.


==Semantic database==
The Property instances are being created as a formal MediaWiki properties:
* for each Property a separate page is created in the Property namespace
* the page defines the name and the type of the MediaWiki property


==Example==
<pre>
<DataModel>
  <import model="../../MDA/CommonLibraryModel.xml"/>

  <concepts>
    <package name="Event Management">
      <description>Concepts required to represent information related to AV&amp;V events</description>

      <concept name="Event" plural="Events" type="Dynamic" image="Event.png" color="f9f9f9">
        <structure>
          <property name="Title" mandatory="true"/>
          <property name="Description" mandatory="true"/>
          <property name="Start date" attribute="start"/>
          <property name="End date" attribute="end"/>
          <property name="Organizer" customValue="Allied Command Transformation" editable="false"/>
        </structure>
      </concept>
    </package>
  </concepts>

  <properties>
    <property name="Description" type="Text" label="Description" attribute="description">
      <description>A free text format to describe the purpose, relevance and functionality of a certain entity.</description>
      <instruction>A "Description" is a text value that reflects a short explanation for a taxonomy element. </instruction>
    </property>
    <property name="End date" type="Date" label="End date" attribute="enddate">
      <description>A date to end an event in a concept.</description>
    </property>
    <property name="Start date" type="Date" label="Start date" attribute="startdate">
      <description>A date to start an event in a concept.</description>
    </property>
    <property name="Organizer" type="String" label="Organizer" attribute="organizer">
      <description>A name of the organization responsible for rorgamization of the event.</description>
    </property>
  </properties>
</DataModel>
</pre>


==User Interface==
Based on the Property Definition the following pages are generated:
* '''Property Page''' (Property:{PROPERTY NAME}), which formally defines a property in the Semantic MediaWiki. This page also lists all of the values of given property in a semantic database.
<gallery>
File:Property Page.png
</gallery>


Every Concept Property is displayed on:
*  '''View/Edit/Search Concept Pages''' (subject of viewable/editable values).
**  Each Property Type defines a specific entry field in forms, specific visualizations on data view pages and specific search criteria on search pages. See [[Help:Property Types|Property Types]] for more details.
<gallery>
File:Concept View Page.png
File:Concept New Page.png
File:Concept Search Page.png
</gallery>
